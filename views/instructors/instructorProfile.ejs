<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instructor Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/eb26321189.js" crossorigin="anonymous"></script>
</head>

<body class="bg-white">

    <!-- Header -->
    <header class="bg-white shadow-md">
        <div class="container mx-auto flex justify-between items-center py-4 px-6">
            <!-- Left side: Logo and Search -->
            <div class="flex items-center space-x-4">
                <img src="../../static/img/headerlogo.png" alt="Logo" class="object-contain w-24">
                <div class="relative">
                    <input type="text" placeholder="Search..."
                        class="pl-10 pr-4 py-2 bg-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    <i class="fi fi-rr-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                </div>
            </div>

            <!-- Right side: Notification and Avatar -->
            <div class="flex items-center space-x-6">
                <i class="fi fi-rr-bell text-2xl text-gray-600"></i>
                <img src="https://via.placeholder.com/40" alt="Avatar"
                    class="w-10 h-10 rounded-full border-2 border-indigo-500">
            </div>
        </div>
    </header>

    <!-- Profile Section -->
    <section class="container mx-auto mt-8 p-8">
        <div class="flex items-start">
            <!-- Profile Picture -->
            <img id="instructor-image" class="w-40 h-40 rounded-full object-cover border-4 border-indigo-600 mr-8"
                src="https://via.placeholder.com/150" alt="Instructor">

            <!-- Profile Info -->
            <div class="flex-1">
                <h2 class="text-3xl font-bold mb-2" id="instructor-name">Dr. Angela Yu</h2>
                <p class="text-xl text-gray-700" id="job-title">Developer and Lead Instructor</p>
                <p class="text-lg text-gray-500" id="school">Udemy Instructor Partner</p>
                <div class="mt-4 flex space-x-4">
                    <a href="#" class="bg-blue-500 text-white px-4 py-2 rounded-full hover:bg-blue-600">Website</a>
                    <a href="#" class="bg-gray-700 text-white px-4 py-2 rounded-full hover:bg-gray-800">Twitter</a>
                    <a href="#" class="bg-blue-700 text-white px-4 py-2 rounded-full hover:bg-blue-800">LinkedIn</a>
                </div>
            </div>

            <!-- Contact Info -->
            <div class="text-right">
                <div class="flex items-center space-x-2">
                    <i class="fi fi-rr-envelope"></i>
                    <p id="email" class="text-gray-700">angela@example.com</p>
                </div>
                <div class="flex items-center space-x-2 mt-2">
                    <i class="fi fi-rr-phone-flip"></i>
                    <p id="phone" class="text-gray-700">+123-456-7890</p>
                </div>
            </div>
        </div>

        <!-- About Section -->
        <div class="mt-8">
            <h3 class="text-2xl font-semibold mb-4">About Me</h3>
            <p id="bio" class="text-gray-700 leading-relaxed">
                I'm Angela, a developer with a passion for teaching. I'm the lead instructor at the London App Brewery,
                London's leading Programming Bootcamp. I've helped hundreds of thousands of students learn to code and
                change their lives.
            </p>
        </div>
    </section>

    <!-- Courses Section -->
    <section class="container mx-auto my-8">
        <h3 class="text-2xl font-semibold mb-4">My Courses (7)</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="card">
            <!-- Courses will be populated here by JavaScript -->
        </div>
    </section>

    <script>
        // Function to fetch instructor details by ID
        const instructorId = "66dca2a4849433a913e2419a";

        function fetchInstructor() {
            if (instructorId) {
                fetch(`http://localhost:3000/instructors/${instructorId}`)
                    .then(response => response.json())
                    .then(data => {
                        document.getElementById('instructor-name').textContent = data.firstName + " " + data.lastName;
                        document.getElementById('job-title').textContent = data.jobTitle;
                        document.getElementById('school').textContent = data.schoolOrCompanyName;
                        document.getElementById('instructor-image').src = data.profilePicture;
                        document.getElementById('email').textContent = data.email;
                        document.getElementById('phone').textContent = data.phone;
                        document.getElementById('bio').textContent = data.Bio;
                    })
                    .catch(error => console.error('Error:', error));
            }
        }

        function card() {
            if (instructorId) {
                fetch(`http://localhost:3000/courses/instructor/${instructorId}`)
                    .then(response => response.json())
                    .then(data => {
                        const publishedCourses = data.filter(course => course.isPublish);
                        let cardContent = ``;
                        publishedCourses.forEach(c => cardContent += createCourseCard(c));
                        document.querySelector('#card').innerHTML = cardContent;
                    });
            }
        }

        function createCourseCard(c) {
            return `
                <div class="bg-white shadow-lg rounded-lg overflow-hidden">
                    <img src="${c.thumbnailImage}" alt="${c.name}" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h2 class="text-xl font-bold mb-2">${c.name}</h2>
                        <p class="text-gray-700 mb-4">${c.description}</p>
                        <span class="text-lg font-semibold text-green-600">Price: $${c.price}</span>
                    </div>
                </div>
            `;
        }

        // Fetch data when the page loads
        fetchInstructor();
        card();
    </script>

</body>

</html>